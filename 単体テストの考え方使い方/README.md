# 単体テストの使い方考え方

## 第一部 単体(unit)テストとは
### 第1章 なぜ、単体テストを行うのか?

単体テストの目的は、ソフトウェア開発プロジェクトの成長を持続可能にすること。  
単体テストを作らない場合は開発が進むに連れてソフトウェア・エントロピーが肥大化し、退行が多発して開発を続けられなくなる。
質の良いテストでないと、ソフtウェア・エントロピーの増加を防ぐことができない。  

#### テストコードの質
網羅率からは実際のテスト対象のコードが検証されたのか確認できず、外部ライブラリも対象にならない。  
網羅率からはテストコードの質が悪いことはわかるが、良いかどうかはわからない。  

優れたテスト・スイートの特徴
- テストすることが、開発サイクルに組み込まれている
- コードベースの特に重要な部分のみがテスト対象になっている。
- 最小限の保守個スロットで最大の価値を生み出すようにする

### 第2章 単体テストとは何か?

単語の定義とかの話  
テスト対象システム: SUT(System Under Test)  
単体テストが持っているべき性質
- 「単体(unit)」と呼ばれる少量のコードを検証すること
- 実行時間が短いこと
- 隔離された状態で実行されること


#### 共有依存、プライベート依存、揮発性依存の違い


#### 単体テストにおける２学派、古典学派とロンドン学派

ロンドン学派は古典学派よりも厳密に依存をテスト・ダブルに置き換える

#### 単体テスト、統合テスト、E2Eテストの違い


### 第3章 単体テストの構造的解析

### 第４章 良い単体テストを構成する４本の柱

4本の柱

- 退行の検出
- リファクタリング耐性
- 迅速な実行
- 保守のしやすさ

保守のしやすさ以外の3つにはトレードオフが発生する。
リファクタリング耐性は0/1しかないので、退行の検出と迅速な実行の間でバランスをとる必要がある。

E2Eテスト退行への検出とリファクタリング耐性の両方があるのは意外だった。
リファクタリング耐性がないかと思っていた。
単純に保守のしやすさと迅速な実行ができないだけだった。

## 第2部 単体テストとその価値

### 第5章 モックの利用とテストの壊れやすさ
### 第6章 単体テストの3つの手法
### 第7章 単体テストの価値を高めるリファクタリング

ここまでは読んだ
## 第3部 結合(integration)テスト

### 第8章 なぜ、統合(integration)テストを行うのか？

管理下の依存と管理外の依存がある。
観察可能な振る舞いをもつかどうかで管理下の依存と管理外の依存を区別する。
例えば、テスト対象モジュールしか使用していない場合は、プロセス外依存だとしても管理下の依存として扱う。

管理下の依存では結合テストではモックを使わずに、そのままを使用して問題ない。

### 第9章 モックのベストプラクティス
### 第10章 データベースに対するテスト
## 第4部 単体テストのアンチ・パターン
### 第11章 単体テストのアンチ・パターン
